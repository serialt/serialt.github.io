[{"categories":["Kubernetes"],"content":"Dev in kubernetes â€‹ ä¼ ç»Ÿçš„å¼€å‘æ¨¡å¼ä¸­ï¼Œæ˜¯ä»£ç å­˜æ”¾åœ¨æœ¬åœ°ï¼Œä½¿ç”¨ IDE è¿›è¡Œç¼–è¾‘å’Œ debug ã€‚ä½†éšç€å®¹å™¨åŒ–ç«äº†ä¹‹åï¼Œå¾ˆå¤šå•ä¸€æœåŠ¡éƒ½è¿›è¡Œäº†æ‹†åˆ†ï¼Œå¾®æœåŠ¡åŒ–ã€‚åœ¨å¼€å‘é˜¶æ®µï¼Œéœ€è¦æœ¬åœ°åŒæ—¶å¯åŠ¨å¤šä¸ªæœåŠ¡ï¼Œè¿™ä½¿å¾—æœ¬åœ°å¼€å‘è°ƒè¯•å˜å¾—è¶Šæ¥è¶Šå›°éš¾ã€‚Okteto æ˜¯ä¸€ä¸ªé€šè¿‡åœ¨ Kubernetes ä¸­æ¥å¼€å‘å’Œæµ‹è¯•ä»£ç çš„åº”ç”¨ç¨‹åºå¼€å‘å·¥å…·ã€‚å¯ä»¥é€šè¿‡ Okteto åœ¨ Kubernetes ä¸­ä¸€é”®ä¸ºæˆ‘ä»¬å¯åŠ¨ä¸€ä¸ªå¼€å‘ç¯å¢ƒï¼Œéå¸¸ç®€å•æ–¹ä¾¿ã€‚Google æ¨å‡ºçš„ Skaffold åªæ˜¯æŠŠ CICD é›†æˆåˆ°æœ¬åœ°ï¼Œä½¿ç”¨èµ·æ¥ä¹Ÿæ¯”è¾ƒå›°éš¾ã€‚Okteto çš„å·¥ä½œåŸç†æ˜¯åœ¨ kubernetes ä¸­å¯åŠ¨ä¸€ä¸ªæœåŠ¡ï¼ŒæŠŠæœ¬åœ°ä»£ç åŒæ­¥åˆ° pod ä¸­ï¼Œç„¶åæ‰§è¡Œå‘½ä»¤è®©æœåŠ¡è¿è¡Œèµ·æ¥ï¼ŒOkteto å¯ä»¥è¿›è¡Œç«¯å£çš„è½¬å‘ï¼Œè½¬å‘podé‡ŒæœåŠ¡çš„ç«¯å£åˆ°æœ¬åœ°ï¼Œåœ¨è¿›è¡Œ debug çš„æ—¶å€™ï¼Œpodé‡Œå¯åŠ¨çš„ç«¯å£å¯ä»¥è¢« kubernetes å†…çš„å…¶ä»–æœåŠ¡æ‰€è®¿é—®ï¼Œæœ¬åœ°è½¬å‘çš„ç«¯å£å¯ä»¥è¢«æœ¬åœ°çš„å·¥å…·ï¼ˆä¾‹å¦‚ postman ï¼‰è®¿é—®ã€‚ oktetoå®˜ç½‘æ–‡æ¡£ï¼šhttps://www.okteto.com/docs Go é…ç½®æ–‡æ¡£ï¼šhttps://www.okteto.com/docs/samples/golang/ ç¤ºä¾‹ç¯å¢ƒï¼š vscode 1.82.1(éœ€è¦å®‰è£… Remote - Kubernetes æ’ä»¶ï¼Œæ’ä»¶codeï¼šokteto.remote-kubernetes) k3d mac ","date":"2023-09-26","objectID":"/posts/okteto/:0:0","tags":["okteto","kubernetes","vscode","dev"],"title":"Okteto","uri":"/posts/okteto/"},{"categories":["Kubernetes"],"content":"å®‰è£…ä¸é…ç½® ä¸‹è½½oktetoï¼šhttps://github.com/okteto/okteto/releases [crab@Sugar ~]ğŸ³ wget https://ghproxy.com/https://github.com/okteto/okteto/releases/download/2.20.0/okteto-Darwin-arm64 [crab@Sugar ~]ğŸ³ chmod +x okteto-Darwin-arm64 [crab@Sugar ~]ğŸ³ sudo mv okteto-Darwin-arm64 /usr/local/bin/okteto ","date":"2023-09-26","objectID":"/posts/okteto/:1:0","tags":["okteto","kubernetes","vscode","dev"],"title":"Okteto","uri":"/posts/okteto/"},{"categories":["Kubernetes"],"content":"ä¸‹è½½ç¤ºä¾‹ä»£ç  [crab@Sugar ~]ğŸ³ git clone https://github.com/okteto/go-getting-started go-okteto [crab@Sugar ~]ğŸ³ cd go-okteto ","date":"2023-09-26","objectID":"/posts/okteto/:1:1","tags":["okteto","kubernetes","vscode","dev"],"title":"Okteto","uri":"/posts/okteto/"},{"categories":["Kubernetes"],"content":"é…ç½®port-forwardç«¯å£ éœ€è¦è½¬å‘ä¸¤ä¸ªï¼Œä¸€ä¸ªæ˜¯æœåŠ¡çš„ç«¯å£ï¼Œå¦ä¸€ä¸ªæ˜¯debugä½¿ç”¨çš„ç«¯å£ okteto.yaml build: hello-world: image: serialt/go-hello-world:1.0.0 context: . deploy: - kubectl apply -f k8s.yml dev: hello-world: image: okteto/golang:1 command: bash sync: - .:/usr/src/app volumes: - /go - /root/.cache securityContext: capabilities: add: - SYS_PTRACE forward: - 2345:2345 - 8080:8080 # \u003c---- å¢åŠ 8080æœåŠ¡ç«¯å£è½¬å‘ è®¾ç½®okteto contextï¼Œokteto é»˜è®¤ä¼šä¼˜å…ˆä½¿ç”¨KUBECONFIGç¯å¢ƒå˜é‡çš„é…ç½®æ–‡ä»¶ï¼Œå¦‚æœæ²¡æœ‰è®¾ç½®ï¼Œåˆ™ä½¿ç”¨ ~/.kube/configæ–‡ä»¶ [crab@Sugar go-okteto]ğŸ³ okteto context âœ“ Context 'k3d-mycluster' selected âœ“ Using dev @ k3d-mycluster ","date":"2023-09-26","objectID":"/posts/okteto/:1:2","tags":["okteto","kubernetes","vscode","dev"],"title":"Okteto","uri":"/posts/okteto/"},{"categories":["Kubernetes"],"content":"å¯åŠ¨æœåŠ¡ [crab@Sugar go-okteto]ğŸ³ okteto up i Using dev @ k3d-mycluster as context i 'go-getting-started' was already deployed. To redeploy run 'okteto deploy' or 'okteto up --deploy' i Images were already built. To rebuild your images run 'okteto build' or 'okteto deploy --build' âœ“ Images successfully pulled âœ“ Files synchronized Context: k3d-mycluster Namespace: dev Name: hello-world Forward: 2345 -\u003e 2345 8080 -\u003e 8080 Welcome to your development container. Happy coding! dev:hello-world app\u003e dev:hello-world app\u003e ls Dockerfile LICENSE Makefile README.md bashrc go.mod k8s.yml main.go okteto.yml ","date":"2023-09-26","objectID":"/posts/okteto/:1:3","tags":["okteto","kubernetes","vscode","dev"],"title":"Okteto","uri":"/posts/okteto/"},{"categories":["Kubernetes"],"content":"è¿œç¨‹å¼€å‘ # oktetoç»ˆç«¯ dev:hello-world app\u003e go run main.go Starting hello-world server... # ç»ˆç«¯æµ‹è¯• [crab@Sugar ~]ğŸ³ curl 127.0.0.1:8080 Hello world! ","date":"2023-09-26","objectID":"/posts/okteto/:1:4","tags":["okteto","kubernetes","vscode","dev"],"title":"Okteto","uri":"/posts/okteto/"},{"categories":["Kubernetes"],"content":"è¿œç¨‹è°ƒè¯• # oktetoç»ˆç«¯, æ‰§è¡Œdlvå‘½ä»¤ dev:hello-world app\u003e dlv debug --headless --listen=:2345 --log --api-version=2 API server listening at: [::]:2345 2023-09-26T13:40:51Z warning layer=rpc Listening for remote connections (connections are not authenticated nor encrypted) 2023-09-26T13:40:51Z info layer=debugger launching process with args: [./__debug_bin3213431902] 2023-09-26T13:40:51Z debug layer=debugger Adding target 575 \"/usr/src/app/__debug_bin3213431902\" # main.go æ‰“ä¸Šdebugæ ‡è®° func helloServer(w http.ResponseWriter, r *http.Request) { fmt.Fprint(w, \"Hello world from Okteto!, k3d is great! \") fmt.Println(\"okteto ccccccc\") # æ ‡è®°æ­¤è¡Œ } åœ¨vscode debugä¸­ç‚¹å‡»å¼€å§‹debug ä½¿ç”¨å‘½ä»¤è¯·æ±‚ http://127.0.0.1:8080ï¼Œå³å¯debugåˆ°æ ‡è®°ç‚¹ [sugar@Sugar go-okteto]ğŸ³ curl http://127.0.0.1:8080 Hello world from Okteto!, k3d is great! ","date":"2023-09-26","objectID":"/posts/okteto/:1:5","tags":["okteto","kubernetes","vscode","dev"],"title":"Okteto","uri":"/posts/okteto/"},{"categories":["vscode"],"content":"Debug shell 1ã€å®‰è£…æ’ä»¶ å®‰è£…bashdbæ’ä»¶ rogalmic.bash-debug 2ã€å¢åŠ ä¸€ä¸ªvscode launch.jsoné…ç½®æ–‡ä»¶ Select Debug -\u003e Add Configuration to add custom debug configuration ç¤ºä¾‹ï¼š { \"configurations\": [ { \"type\": \"bashdb\", \"request\": \"launch\", \"name\": \"Bash-Debug\", \"cwd\": \"${workspaceFolder}\", \"program\": \"${workspaceFolder}/ccc.sh\", \"args\": [] }, ] } å°±å¯ä»¥åƒdebugå…¶ä»–è¯­è¨€ä¸€æ ·è¿›è¡Œè°ƒè¯•shellè„šæœ¬ ","date":"2023-09-24","objectID":"/posts/debug-shell-in-vscode/:0:0","tags":["shell"],"title":"Debug Shell in VSCode","uri":"/posts/debug-shell-in-vscode/"},{"categories":["mirror-web"],"content":"æ¸…åé•œåƒç½‘é¡µæ­å»ºé•œåƒç«™ tuna mirror-webåœ°å€ï¼šhttps://github.com/tuna/mirror-web.git tuna mirror-webåŸºäºjekyllå¼€å‘ï¼Œç”±äºrubyç¯å¢ƒå®‰è£…å¤æ‚ï¼Œå› æ­¤é‡‡ç”¨dockerç¼–è¯‘ï¼Œä½†åœ¨buildé•œåƒçš„æ—¶å€™ï¼Œå‡ºç°å®‰è£…åŒ…ä¾èµ–å®‰è£…å¤±è´¥ï¼Œåœ¨å¤šæ¬¡æµ‹è¯•åï¼Œæ— æ³•buildæˆé•œåƒã€‚å‰æ®µæ—¶é—´ï¼Œåœ¨æŸ¥çœ‹mirror-webæ®µissuesæ—¶ï¼Œæœ‰äººè¯¢é—®mirror-webæ®µREADME.mdæ–‡æ¡£çš„ä¸‹ä¸€æ­¥ï¼Œå®˜æ–¹ç»™äº†ä¸€ç‚¹æç¤ºï¼Œæœ‰å…³äºåŸºäºnginxçš„ç¬¬ä¸‰æ–¹æ¨¡å—æ¥å®ç°ç›®å½•ç¬¬æ¸²æŸ“çš„æç¤ºè¯´æ˜ï¼Œå†æ¬¡å°è¯•åï¼Œç»å†å„ç§å›°éš¾å’ŒæŠ˜ç£¨ï¼Œç»ˆäºæ‘¸ç´¢å‡ºã€‚ ","date":"2023-09-24","objectID":"/posts/tuna-web/:1:0","tags":["mirrors"],"title":"Tuna Web","uri":"/posts/tuna-web/"},{"categories":["mirror-web"],"content":"1ã€ä¸‹è½½mirror-webçš„jekyllç¼–è¯‘ç¯å¢ƒ tunaçš„ç¼–è¯‘é•œåƒï¼štunathu/mirror-web åœ¨ä¸‹è½½tunathu/mirror-webæ—¶å‘ç”Ÿäº†ä¸€ä¸ªå°é—®é¢˜ï¼Œç”±äºåœ¨å›½å†…ä½¿ç”¨çš„dockeré•œåƒåŠ é€Ÿï¼Œä¸‹è½½çš„é•œåƒæ˜¯æ—§ç‰ˆæœ¬çš„ï¼Œä½†å¢ƒå¤–çš„æœåŠ¡å™¨ä¸‹è½½çš„é•œåƒæ˜¯æœ€æ–°çš„ï¼Œåœ¨è¸©å‘åæœæ–­æ¨åˆ°è‡ªå·±çš„dockerhubä¸Šï¼Œæ–°çš„ä¸‹è½½åœ°å€ï¼šserialt/tuna-mirror-webã€‚ ","date":"2023-09-24","objectID":"/posts/tuna-web/:1:1","tags":["mirrors"],"title":"Tuna Web","uri":"/posts/tuna-web/"},{"categories":["mirror-web"],"content":"2ã€ä¸‹è½½githubä»“åº“ git clone https://github.com/tuna/mirror-web.git /opt/mirror-web ","date":"2023-09-24","objectID":"/posts/tuna-web/:1:2","tags":["mirrors"],"title":"Tuna Web","uri":"/posts/tuna-web/"},{"categories":["mirror-web"],"content":"3ã€ä¸‹è½½é¢å¤–èµ„æºå’Œç¼–è¯‘ cd /opt/mirror-web wget https://mirrors.tuna.tsinghua.edu.cn/static/tunasync.json -O static/tunasync.json wget https://mirrors.tuna.tsinghua.edu.cn/static/tunet.json -O static/tunet.json mkdir -p static/status wget https://mirrors.tuna.tsinghua.edu.cn/static/status/isoinfo.json -O static/status/isoinfo.json docker run -it -v /opt/mirror-web/:/data serialt/tuna-mirror-web:20211006 ç¼–è¯‘çš„åé™æ€æ–‡ä»¶åœ¨_siteé‡Œ ","date":"2023-09-24","objectID":"/posts/tuna-web/:1:3","tags":["mirrors"],"title":"Tuna Web","uri":"/posts/tuna-web/"},{"categories":["mirror-web"],"content":"4ã€ç¼–è¯‘nginx éœ€è¦å®‰è£…ç¬¬ä¸‰æ–¹æ¨¡å— modules/ngx_http_js_module.so modules/ngx_http_fancyindex_module.so [root@serialt nginx]# ll æ€»ç”¨é‡ 1068 drwxr-xr-x 9 sonar sonar 186 10æœˆ 5 22:27 nginx-1.20.1 -rw-r--r-- 1 root root 1061461 5æœˆ 25 23:34 nginx-1.20.1.tar.gz drwxrwxr-x 3 root root 217 10æœˆ 27 2020 ngx-fancyindex-0.5.1 -rw-r--r-- 1 root root 25148 10æœˆ 27 2020 ngx-fancyindex-0.5.1.tar.xz drwxr-xr-x 10 root root 228 10æœˆ 6 15:49 njs # njsä¸‹è½½ git clone https://github.com/nginx/njs # ngx-fancyindex ä¸‹è½½ wget https://github.com/aperezdc/ngx-fancyindex/releases/download/v0.5.1/ngx-fancyindex-0.5.1.tar.xz ç¼–è¯‘ï¼š [root@serialt nginx]# ls nginx-1.20.1 nginx-1.20.1.tar.gz ngx-fancyindex-0.5.1 ngx-fancyindex-0.5.1.tar.xz njs [root@serialt nginx]# cd nginx-1.20.1/ [root@serialt nginx-1.20.1]# ./configure --prefix=/usr/local/nginx --with-pcre --with-http_auth_request_module --with-http_ssl_module --with-http_v2_module --with-http_realip_module --with-http_addition_module --with-http_sub_module --with-http_dav_module --with-http_flv_module --with-http_mp4_module --with-http_gunzip_module --with-http_gzip_static_module --with-http_random_index_module --with-http_secure_link_module --with-http_stub_status_module --with-mail --with-mail_ssl_module --with-stream --with-stream_ssl_module --with-stream_realip_module --add-dynamic-module=/root/nginx/ngx-fancyindex-0.5.1 --add-dynamic-module=/root/nginx/njs/nginx # add m 3997 [2022-02-25 00:49:21] [root] [10.5.0.10] ./configure --with-compat --add-dynamic-module=/root/github/tuna-mirror-web/njs-0.6.2/nginx 3998 [2022-02-25 00:49:31] [root] [10.5.0.10] make modules nginxé…ç½®æ–‡ä»¶å†…å®¹ [root@serialt mirrors]# cat /usr/local/nginx/conf/nginx.conf #user nobody; worker_processes 1; #error_log logs/error.log; #error_log logs/error.log notice; #error_log logs/error.log info; #pid logs/nginx.pid; load_module modules/ngx_http_js_module.so; load_module modules/ngx_http_fancyindex_module.so; events { worker_connections 1024; } http { include mime.types; default_type application/octet-stream; #log_format main '$remote_addr - $remote_user [$time_local] \"$request\" ' # '$status $body_bytes_sent \"$http_referer\" ' # '\"$http_user_agent\" \"$http_x_forwarded_for\"'; #access_log logs/access.log main; sendfile on; #tcp_nopush on; #keepalive_timeout 0; keepalive_timeout 65; #gzip on; map $http_user_agent $isbrowser { default 0; \"~*validation server\" 0; \"~*mozilla\" 1; } js_path /opt/mirror-web/_site/static/njs; js_include /opt/mirror-web/_site/static/njs/all.njs; #js_path /opt/mirror-web/static/njs; #js_include /opt/mirror-web/static/njs/all.njs; server { listen 8007; server_name localhost; #charset koi8-r; #access_log logs/host.access.log main; #root /opt/mirror-web/_site; fancyindex_header /fancy-index/before; fancyindex_footer /fancy-index/after; fancyindex_exact_size off; fancyindex_time_format \"%d %b %Y %H:%M:%S +0000\"; fancyindex_name_length 256; error_page 404 /404.html; location /fancy-index { internal; root /opt/mirror-web/_site; subrequest_output_buffer_size 100k; location = /fancy-index/before { js_content fancyIndexBeforeRender; } location = /fancy-index/after { js_content fancyIndexAfterRender; } } location / { root /opt/mirror-web/_site; index index.html index.htm; #try_files /_site/$uri $uri/ /_site/$uri; fancyindex on; } # location / { # root html; # index index.html index.htm; # } #error_page 404 /404.html; # redirect server error pages to the static page /50x.html # error_page 500 502 503 504 /50x.html; location = /50x.html { root html; } } } [root@serialt mirrors]# ","date":"2023-09-24","objectID":"/posts/tuna-web/:1:4","tags":["mirrors"],"title":"Tuna Web","uri":"/posts/tuna-web/"},{"categories":["mirror-web"],"content":"5ã€é•œåƒèµ„æºæš´éœ² æ–¹æ³•1ï¼šä»¥è½¯é“¾æ¥å½¢å¼å­˜æ”¾åœ¨/opt/mirror-web/_siteä¸­ [root@serialt _site]# pwd /opt/mirror-web/_site [root@serialt _site]# ll æ€»ç”¨é‡ 160 -rw-r--r-- 1 root root 16415 10æœˆ 6 15:37 404.html drwxr-xr-x 2 root root 6 10æœˆ 6 17:14 cc drwxr-xr-x 2 root root 19 10æœˆ 6 17:14 centos drwxr-xr-x 2 root root 94 10æœˆ 6 09:25 fancy-index -rw-r--r-- 1 root root 36650 10æœˆ 6 15:37 feed.xml drwxr-xr-x 103 root root 4096 10æœˆ 6 09:25 help -rw-r--r-- 1 root root 27679 10æœˆ 6 15:37 index.html -rw-r--r-- 1 root root 20728 10æœˆ 6 15:37 legacy_index.html -rw-r--r-- 1 root root 18092 10æœˆ 6 15:37 LICENSE drwxr-xr-x 47 root root 4096 10æœˆ 6 09:25 news -rw-r--r-- 1 root root 58 10æœˆ 6 15:37 robots.txt -rw-r--r-- 1 root root 19134 10æœˆ 6 15:37 sitemap.xml drwxr-xr-x 8 root root 115 10æœˆ 6 15:37 static drwxr-xr-x 2 root root 24 10æœˆ 6 09:25 status æ–¹æ³•äºŒï¼šæŠŠ/opt/mirror-web/_siteé‡Œçš„æ–‡ä»¶ä»¥è½¯é“¾æ¥çš„æ–¹å¼é“¾æ¥åˆ°é•œåƒçš„è·Ÿç›®å½•ï¼ˆå»ºè®®ä½¿ç”¨ï¼‰ ln -snf /opt/mirror-web/_site/* /opt/imau ç›®å½•æè¿°æ–‡ä»¶ï¼š_data/options.yml ç«™ç‚¹èµ„æºæ˜¾ç¤ºæ§åˆ¶ï¼šstatic/tunasync.json tunasync.json [ { \"name\": \"ant\", \"is_master\": true, \"status\": \"success\" }, { \"name\": \"book\", \"is_master\": true, \"status\": \"success\" }, { \"name\": \"centos\", \"is_master\": true, \"status\": \"success\" }, { \"name\": \"dev\", \"is_master\": true, \"status\": \"success\" }, { \"name\": \"frp\", \"is_master\": true, \"status\": \"success\" }, { \"name\": \"git\", \"is_master\": true, \"status\": \"success\" }, { \"name\": \"go\", \"is_master\": true, \"status\": \"success\" }, { \"name\": \"grafana\", \"is_master\": true, \"status\": \"success\" }, { \"name\": \"iso\", \"is_master\": true, \"status\": \"success\" }, { \"name\": \"jdk\", \"is_master\": true, \"status\": \"success\" }, { \"name\": \"jmeter\", \"is_master\": true, \"status\": \"success\" }, { \"name\": \"kubernetes\", \"is_master\": true, \"status\": \"success\" }, { \"name\": \"mac\", \"is_master\": true, \"status\": \"success\" }, { \"name\": \"monitor\", \"is_master\": true, \"status\": \"success\" }, { \"name\": \"node\", \"is_master\": true, \"status\": \"success\" }, { \"name\": \"root-ca\", \"is_master\": true, \"status\": \"success\" }, { \"name\": \"other\", \"is_master\": true, \"status\": \"success\" }, { \"name\": \"printer\", \"is_master\": true, \"status\": \"success\" }, { \"name\": \"prometheus\", \"is_master\": true, \"status\": \"success\" }, { \"name\": \"pycharm\", \"is_master\": true, \"status\": \"success\" }, { \"name\": \"python\", \"is_master\": true, \"status\": \"success\" }, { \"name\": \"repo\", \"is_master\": true, \"status\": \"success\" }, { \"name\": \"script\", \"is_master\": true, \"status\": \"success\" }, { \"name\": \"test\", \"is_master\": true, \"status\": \"success\" }, { \"name\": \"tool\", \"is_master\": true, \"status\": \"success\" } ] \"last_update\": \"2022-01-11 16:39:37 +0800\", \"last_update_ts\": 1641890377, \"last_started\": \"2022-01-11 16:39:21 +0800\", \"last_started_ts\": 1641890361, \"last_ended\": \"2022-01-11 16:39:37 +0800\", \"last_ended_ts\": 1641890377, \"next_schedule\": \"2022-01-11 22:39:37 +0800\", \"next_schedule_ts\": 1641911977, \"upstream\": \"rsync://msync.centos.org/CentOS/\", - status: 'success' last_update: '-' name: \"AUR\" url: 'https://aur.tuna.tsinghua.edu.cn/' upstream: 'https://aur.archlinux.org/' is_master: true options.yml # Content Related mirror_desc: - name: git desc: git äºŒè¿›åˆ¶ç¼–è¯‘ç‰ˆæœ¬ - name: go desc: golang å¼€å‘ç¯å¢ƒ - name: grafana desc: grafana çš„å®‰è£…åŒ… - name: helm desc: helm çš„äºŒè¿›åˆ¶å‘è¡ŒåŒ… - name: ios desc: é•œåƒæ–‡ä»¶ï¼Œå¦‚centos, ubuntu, rockyç­‰ - name: jdk desc: java å¼€å‘ç¯å¢ƒå®‰è£…åŒ… new_mirrors: - hugging-face-models - endeavouros - ubuntukylin - putty - postmarketOS - postmarketOS-images - obs-studio - stellarium unlisted_mirrors: - status: 'success' last_update: '-' name: \"AUR\" url: 'https://aur.tuna.tsinghua.edu.cn/' upstream: 'https://aur.archlinux.org/' is_master: true - link_to: 'osdn' name: \"manjaro-cd\" url: '/osdn/storage/g/m/ma/manjaro/' - link_to: 'osdn' name: \"manjaro-arm-cd\" url: '/osdn/storage/g/m/ma/manjaro-arm/' - link_to: 'osdn' name: \"mxlinux-isos\" url: '/osdn/storage/g/m/mx/mx-linux/ISOs/' - link_to: 'osdn' name: \"garuda-linux\" url: '/osdn/storage/g/g/ga/garuda-linux/' - link_to: 'osdn' name: \"linuxlite-cd\" url: '/osdn/storage/g/l/li/linuxlite/' - link_to: 'github-release' name: \"prometheus\" url: '/github-rele","date":"2023-09-24","objectID":"/posts/tuna-web/:1:5","tags":["mirrors"],"title":"Tuna Web","uri":"/posts/tuna-web/"},{"categories":["mirror-web"],"content":"6ã€dockeré•œåƒä½¿ç”¨ é™æ€æ–‡ä»¶ç¼–è¯‘ æ„å»º Jekyll çš„ docker é•œåƒç¯å¢ƒå¤æ‚ï¼Œå»ºè®®ç›´æ¥ä½¿ç”¨å®˜æ–¹æˆ–è€…å·²ç»å­˜åœ¨çš„é•œåƒtunathu/mirror-webæˆ–è€…serialt/tuna-mirror-web [root@tc ~]# docker run -it -v /path/to/mirror-web/:/data serialt/tuna-mirror-web ä¸€äº›åŠ¨æ€æ•°æ®å·²ç»ä¸‹è½½ï¼Œè‹¥éœ€è¦æœ€æ–°çš„ï¼Œå¯ä»¥å°±è¡Œä»¥ä¸‹æ“ä½œ,ç„¶ååœ¨æ„å»º ä¸‹è½½æœ€æ–°çš„åŠ¨æ€æ•°æ®æ–‡ä»¶ wget https://mirrors.tuna.tsinghua.edu.cn/static/tunasync.json -O static/tunasync.json wget https://mirrors.tuna.tsinghua.edu.cn/static/tunet.json -O static/tunet.json mkdir -p static/status wget https://mirrors.tuna.tsinghua.edu.cn/static/status/isoinfo.json -O static/status/isoinfo.json è¿è¡ŒæœåŠ¡ dockeré•œåƒç½‘é¡µæ ¹ç›®å½•: /opt/mirror-web é•œåƒç«™èµ„æºæ ¹ç›®å½•: /opt/mirror å¯åŠ¨æœåŠ¡ docker run -tid -v /opt/tuna-mirror-web/_site:/opt/mirror-web -v /opt/mirror:/opt/mirror -p 8099:80 --name=tuna-mirror-nginx serialt/tuna-mirror-web-nginx:7b0c89d version: \"3\" networks: tuna-mirror-nginx: external: false services: tuna-mirror-nginx: image: serialt/tuna-mirror-web-nginx:latest container_name: mirror-nginx hostname: mirror-nginx restart: always networks: - tuna-mirror-nginx volumes: - \"/etc/localtime:/etc/localtime:ro\" - \"/opt/mirror-web/_site:/opt/mirror-web\" - \"/opt/mirror:/opt/mirror\" ports: - \"80:80\" dns: - 223.5.5.5 - 223.6.6.6 ","date":"2023-09-24","objectID":"/posts/tuna-web/:1:6","tags":["mirrors"],"title":"Tuna Web","uri":"/posts/tuna-web/"},{"categories":["mirror-web"],"content":"æ–°é•œåƒç«™ç‰ˆæœ¬å‘å¸ƒ docker run -it --rm -v /opt/tuna-mirror-web:/data serialt/tuna-mirror-web docker restart tuna-mirror-nginx ","date":"2023-09-24","objectID":"/posts/tuna-web/:1:7","tags":["mirrors"],"title":"Tuna Web","uri":"/posts/tuna-web/"},{"categories":["mirror-web"],"content":"ç¼–å†™è¯´æ˜ _data/options.yml: æ˜¯æ˜¾ç¤ºåœ¨é•œåƒç«™ä¸»é¡µå¯¹å„ä¸ªç›®å½•çš„è¯´æ˜ static/tunasync.json: æ˜¯å¯¹å½“å‰repoçš„åŒæ­¥ä¿¡æ¯çš„æè¿°ï¼Œå¯ä»¥è‡ªè¡Œç¼–è¾‘ï¼Œä¹Ÿå¯ä»¥ä»tunaä¸Šä¸‹è½½ help: helpç›®å½•é‡Œå­˜æœ‰å„ä¸ªrepoçš„å¸®åŠ©ä¿¡æ¯ï¼Œåœ¨ä¸»é¡µä¸Šä¼šæ˜¾ç¤ºæœ‰ä¸ª\"?\" news: é•œåƒç«™çš„æ–°é—»ä¿¡æ¯ ","date":"2023-09-24","objectID":"/posts/tuna-web/:1:8","tags":["mirrors"],"title":"Tuna Web","uri":"/posts/tuna-web/"},{"categories":["mirror-web"],"content":"help è¯´æ˜ permalink æ˜¯è¡¨ç¤ºhelpçš„é¦–é¡µçš„è·¯å¾„ï¼Œå¿…é¡»è¦æœ‰ --- layout: help category: help mirrorid: app permalink: /help/app/ --- ","date":"2023-09-24","objectID":"/posts/tuna-web/:1:9","tags":["mirrors"],"title":"Tuna Web","uri":"/posts/tuna-web/"},{"categories":["Kubernetes"],"content":"helm oci ","date":"2023-09-24","objectID":"/posts/helm-migrate-oci/:1:0","tags":["helm"],"title":"Helm Migrate OCI","uri":"/posts/helm-migrate-oci/"},{"categories":["Kubernetes"],"content":"ç¼˜ç”± Helm 3.8 ç‰ˆæœ¬å¼€å§‹ï¼Œæ”¯æŒä½¿ç”¨ociè¿›è¡Œå­˜å‚¨chartã€‚é•œåƒå­˜å‚¨å¸¸ç”¨çš„Harboråœ¨v1.6ç‰ˆæœ¬å¼€å§‹æ”¯æŒHelm Chartä»“åº“åŠŸèƒ½ï¼Œ chartä»“åº“ç”±chartmuseumä»¥æ’ä»¶çš„æ–¹å¼æä¾›ã€‚éšç€å…¼å®¹OCIè§„èŒƒçš„Helm Chartåœ¨ç¤¾åŒºä¸Šè¢«æ›´å¹¿æ³›åœ°æ¥å—ï¼ŒHelm Chartèƒ½ä»¥Artifactçš„å½¢å¼åœ¨Harborä¸­å­˜å‚¨å’Œç®¡ç†ï¼Œä¸å†ä¾èµ–ChartMuseumï¼Œå› æ­¤Harboråœ¨v2.8.0ç‰ˆæœ¬ä¸­ï¼Œç§»é™¤å¯¹ChartMuseumçš„æ”¯æŒã€‚ ","date":"2023-09-24","objectID":"/posts/helm-migrate-oci/:1:1","tags":["helm"],"title":"Helm Migrate OCI","uri":"/posts/helm-migrate-oci/"},{"categories":["Kubernetes"],"content":"registry ä»“åº“ä½¿ç”¨ åŸºæœ¬ä½¿ç”¨ ### registry # ç™»å½• helm registry login -u serialt docker.io # æ³¨é”€ helm registry logout docker.io # pull chart helm fetch oci://docker.io/serialt/loki-stack --version=2.9.11 # push chart helm push loki-stack-2.9.11.tgz oci://docker.io/serialt ociæ”¯æŒçš„å…¶ä»–å‘½ä»¤ helm pull helm show helm template helm install helm upgrade $ helm pull oci://localhost:5000/helm-charts/mychart --version 0.1.0 Pulled: localhost:5000/helm-charts/mychart:0.1.0 Digest: sha256:0be7ec9fb7b962b46d81e4bb74fdcdb7089d965d3baca9f85d64948b05b402ff $ helm show all oci://localhost:5000/helm-charts/mychart --version 0.1.0 apiVersion: v2 appVersion: 1.16.0 description: A Helm chart for Kubernetes name: mychart ... $ helm template myrelease oci://localhost:5000/helm-charts/mychart --version 0.1.0 --- # Source: mychart/templates/serviceaccount.yaml apiVersion: v1 kind: ServiceAccount ... $ helm install myrelease oci://localhost:5000/helm-charts/mychart --version 0.1.0 NAME: myrelease LAST DEPLOYED: Wed Oct 27 15:11:40 2021 NAMESPACE: default STATUS: deployed REVISION: 1 NOTES: ... $ helm upgrade myrelease oci://localhost:5000/helm-charts/mychart --version 0.2.0 Release \"myrelease\" has been upgraded. Happy Helming! NAME: myrelease LAST DEPLOYED: Wed Oct 27 15:12:05 2021 NAMESPACE: default STATUS: deployed REVISION: 2 NOTES: ... ","date":"2023-09-24","objectID":"/posts/helm-migrate-oci/:1:2","tags":["helm"],"title":"Helm Migrate OCI","uri":"/posts/helm-migrate-oci/"},{"categories":["Kubernetes"],"content":"è¿ç§» chart repo åˆ° oci ä»“åº“ åŸºäº github action é•œåƒ helm repo ä»“åº“åˆ° docker hubï¼Œä»¥åŠ é€Ÿ helm repo åˆ°è®¿é—®ã€‚ migrate-chart ","date":"2023-09-24","objectID":"/posts/helm-migrate-oci/:1:3","tags":["helm"],"title":"Helm Migrate OCI","uri":"/posts/helm-migrate-oci/"}]