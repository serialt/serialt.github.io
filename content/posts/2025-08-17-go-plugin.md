+++
title = 'Go Plugin'
date = 2025-08-17T20:40:01+08:00
draft = false

tags = ["Go","plugin"]
categories = ["Go Plugin"]

+++
go plugin

```
[serialt@Krab plugin]ğŸ³ tree .
.
â”œâ”€â”€ go.mod
â”œâ”€â”€ kk
â”‚   â”œâ”€â”€ kk.go
â”‚   â””â”€â”€ kk.so
â”œâ”€â”€ ks
â””â”€â”€ main.go
```

```go
// kk.go
package main

import "fmt"

func Greet(name string) {
	fmt.Println("Hello", name)
}

func main() {}


// main.go
package main

import (
	"log"
	"plugin"
)

func main() {
	p, err := plugin.Open("./kk/kk.so")
	if err != nil {
		log.Fatal(err)
	}
	greet, err := p.Lookup("Greet")
	if err != nil {
		log.Fatal(err)
	}
	greet.(func(string))("Go")
}

```

ç¼–è¯‘æ’ä»¶

```
cd kk && go build -buildmode=plugin 
```

ç¼–è¯‘ä¸»æœåŠ¡è°ƒç”¨æ’ä»¶

```
[root@Krab plugin]ğŸ³ go build 
[root@Krab plugin]ğŸ³ ./ks 
Hello Go
```

